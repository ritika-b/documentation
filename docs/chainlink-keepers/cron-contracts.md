---
layout: nodes.liquid
section: ethereum
date: Last Modified
title: 'Keepers Job Scheduler [BETA]'
whatsnext:
  {
    'FAQs': '/docs/chainlink-keepers/faqs/',
  }
---

> 👍 Beta
>
> The Keepers Job Scheduler is currently in Beta.

## Overview

In this tutorial you will use the Chainlink Keepers Job Scheduler to automatically execute smart contract functions on a specific time schedule.

**Table of Contents**

+ [Overview](#overview)
+ [What is Job Scheduler?](#what-is-job-scheduler)
+ [Job Scheduling Tutorial](#job-scheduling-tutorial)
  + [Creating a Job Scheduler contract](#creating-a-job-scheduler-contract)
  + [Interacting with your Job Scheduler](#interacting-with-your-job-scheduler)
  + [Scheduling a job](#scheduling-a-job)
+ [Resources](#resources)

## What is Job Scheduler?

The Chainlink Keepers Job Scheduler schedules jobs that use the Chainlink Keepers Network to automatically execute your smart contract functions at specific times. After you register your Job Scheduler with the [Chainlink Keepers network](https://keepers.chain.link/new), the decentralized Keepers network monitors and executes your scheduled jobs.  

## Job Scheduling Tutorial

Use [Remix](https://remix.ethereum.org/) for this tutorial. To learn more about Remix and how you can use it to deploy a smart contract, see the [Getting Started guide](/docs/deploy-your-first-contract/).

You will also need MetaMask or other another wallet that is compatible with Remix with some testnet tokens of choice. See the [MetaMask tutorial](/docs/deploy-your-first-contract/#install-and-fund-your-metamask-wallet) if you need help setting up a wallet.

Before you deploy your application to a mainnet, test this tutorial on one of the [supported testnets](#resources).

### Creating a Job Scheduler contract

To deploy an on-chain Job Scheduler contract, use the pre-deployed Chainlink [CronUpkeepFactory](https://github.com/smartcontractkit/chainlink/blob/develop/contracts/src/v0.8/factories/CronUpkeepFactory.sol) smart contract. This is called the [Factory pattern](https://www.youtube.com/watch?v=Q1zZo4O_Ong), where one contract deploys another contract. To deploy your Job Scheduler (`CronUpkeep`), use the following process:

1. [Open the `CronUpkeepFactory.abi` in Remix](https://remix.ethereum.org/#url=https://docs.chain.link/samples/Keepers/CronUpkeepFactory.abi). This is an ABI (application binary interface) that can interact with the `CronUpkeepFactory.sol` contract that is already deployed to the network. You can deploy and run ABIs in Remix. Because they are not Solidity contracts, they do not require a compile step.

    ![Remix ABI Cron](/images/keepers/cron-1.png)

1. In Remix, click the **Deploy and Run** tab.

1. On the **Deploy and Run** tab, set the **Environment** to *Injected Web3*.

1. Paste the address of the deployed `CronUpkeepFactory` contract in the **At Address** box. You can find the [addresses](#contract-addresses) for deployed `CronUpkeepFactory` contracts in the [Resources](#resources) section. For Ethereum Kovan, use `0x8ed750705F8c0E5Cb56C1bF50Df6626Dc06553f1`.

    ![The At Address Button](/images/keepers/deployAtAddress.png)

1. Click the the **At Address** button to point the ABI to the deployed `CronUpkeepFactory` contract. Remix prompts you to confirm that you want to interact with the contract using the ABI.

1. After the ABI is configured, it is listed in the **Deployed Contracts** section of Remix with the callable functions from the `CronUpkeepFactory` contract. Click the `newCronUpkeep` button and follow the prompts in MetaMask to confirm the transaction.

After the transaction is complete, a transaction hash appears in the terminal. This transaction has points to the creation of your Job Scheduler. Use this transaction hash to find your contract address:

1. Find the transaction hash in your terminal.

    ![Remix Transaction Hash](/images/keepers/cron-2.png)

1. Copy the transaction hash and open it in the scanner for the network you are using. For example, you can use the [Kovan Testnet Explorer](https://kovan.etherscan.io/).

1. After you find the transaction in the explorer, open the **Internal Txns** tab.

    ![Internal Txns tab](/images/keepers/internalTxnsTab.png)

1. Find your contract address in the `To` field. Record both the address and transaction hash for future use.

### Interacting with your Job Scheduler

To interact with your Job Scheduler contract, use another ABI with your deployed contract address:

1. [Open the `CronUpkeep.abi` in Remix](https://remix.ethereum.org/#url=https://docs.chain.link/samples/Keepers/CronUpkeep.abi):

1. In Remix, click the **Deploy and Run** tab.

1. On the **Deploy and Run** tab, set the **Environment** to *Injected Web3*.

1. Paste the address of your Job Scheduler contract in the **At Address** box.

1. Click the **At Address** button to point the ABI to your Job Scheduler contract. Remix prompts you to confirm that you want to interact with the contract using the ABI.

After the ABI is configured, it is listed in the **Deployed Contracts** section of Remix with the callable functions from your Job Scheduler contract.

![Remix Contract Interface](/images/keepers/cron-3.png)

### Scheduling a Job

To schedule a new job, use the `createCronJobFromEncodedSpec` function from your Job Scheduler contract. This function requires three input variables:

+ `target`: The target address of the smart contract you want to automate
+ `handler`: The function signature, or the encoding of the function, that you want to call
+ `encodedCronSpec`: The [encodedCronSpec](#encodedcronspec) encoding of your specified time interval. Encodings allow you to save repeated gas costs of having your contract calculate them during execution.

Get the required inputs and run the `createCronJobFromEncodedSpec` function:

1. Generate the function signature using the following Python code sample. The Function Signature (or bytes handler) is the first four bytes of the Keccak-hash used in EVM chains to encode a function. Save the function signature to use later.

    ```{python}
    #Install pycryptodome from https://pypi.org/project/pycryptodome/
    #pip install pycryptodome
    from Crypto.Hash import keccak
    import binascii

    #Our example smart contract function is called increment()
    #and remember to include the brackets
    #Note Job Scheduler will not pass a parameter
    functionToEncode = 'increment()'

    #Calculate the Hash
    functionEncoding = keccak.new(data=functionToEncode.encode('UTF-8'), digest_bits=256).digest()

    #Decode to UTF-8 and return first 4 bits (8 characters)
    functionSig = binascii.hexlify(functionEncoding).decode('UTF-8')[:8]
    print("Function Signature:", functionSig)
    #Should return Function Signature: d09de08a
    ```

1. In Remix, use the `cronStringToEncodedSpec` function from your Job Scheduler contract to encode a Cron spec. Specify a standard [Cron Spec](#encodedcronspec) string for the `cronString` input. Run the function and save the output to use later. For example, if you specify `*/5 * * * *` for a job that runs every 5 minutes, the `cronStringToEncodedSpec` function returns the following encoding value:

    ```
    0x00000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000f00000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000019000000000000000000000000000000000000000000000000000000000000001e00000000000000000000000000000000000000000000000000000000000000230000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002d000000000000000000000000000000000000000000000000000000000000003200000000000000000000000000000000000000000000000000000000000000370000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    ```

1. In Remix, run the `createCronJobFromEncodedSpec` function. Specify the `target` address of the contract, the `handler` function signature, and the `encodedCronSpec` values. MetaMask opens to confirm the transaction.

1. After the transaction is complete, run the `getActiveCronJobIDs` function to confirm that your job is registered.

1. Run the the `getCronJob` function to view the details of your job played back.

1. [Register the contract for upkeep](/docs/chainlink-keepers/register-upkeep/). Provide the address of your Job Scheduler contract in the **Upkeep address** field. For gas limits, specify the upper limit of gas that your target function will use.

> ❗️ Gas Limits
>
> The `KeeperRegistry` enforces a cap for gas used both on-chain and off-chain. See the [Keepers Network Overview](../overview/) for details. The caps are configurable and might change based on user feedback. Be sure that you understand these limits if your use case requires a large amount of gas.

After you register your contract, view your upkeep in the [Chainlink Keepers App](https://keepers.chain.link/). The *Upkeep History* displays **Perform Upkeep** events for all registered jobs on your Job Scheduler contract. To ensure that Chainlink Keepers continues to monitor your Job Scheduler, maintain a sufficient LINK balance on your Upkeep.

You can add multiple jobs on your Job Scheduler contract. Use the other functions in your Job Scheduler to delete jobs, pause jobs, or unpause jobs.

## Resources

### EncodedCronSpec

The `EncodedCronSpec` is an encoded version the [Cron](https://en.wikipedia.org/wiki/Cron) time interval specification. Cron jobs are interpreted using the following format:

```
  ┌───────────── minute (0 - 59)
  │ ┌───────────── hour (0 - 23)
  │ │ ┌───────────── day of the month (1 - 31)
  │ │ │ ┌───────────── month (1 - 12)
  │ │ │ │ ┌───────────── day of the week (0 - 6) (Monday to Sunday)
  │ │ │ │ │
  │ │ │ │ │
  │ │ │ │ │
  * * * * *

  Special limitations:
    * there is no year field
    * No special characters: ? L W #
    * lists can have a max length of 26
    * No words like JAN / FEB or MON / TUES
    * No <division operators> (eg */5 * * * *)
*/
```

**Examples:**

- For a job that runs every five minutes, specify the Cron expression as `*/5 * * * *`.
- For job that runs every hour, specify the Cron expression as `0 * * * *`.
- For a job that runs every weekday at 9am, the equivalent Cron expression would be `0 9 * * 0-4`.
- For a job that runs at 5pm on Monday, Wednesday, and Friday, the equivalent Cron expression would be `0 17 * * 0,2,4`.

### CronUpkeepFactory ABI

```json
{% include samples/Keepers/CronUpkeepFactory.abi %}
```
<div class="remix-callout">
    <a href="https://remix.ethereum.org/#url=https://docs.chain.link/samples/Keepers/CronUpkeepFactory.abi" >Open in Remix</a>
    <a href="/docs/conceptual-overview/#what-is-remix" >What is Remix?</a>
</div>


### CronUpkeep ABI

```json
{% include samples/Keepers/CronUpkeep.abi %}
```
<div class="remix-callout">
    <a href="https://remix.ethereum.org/#url=https://docs.chain.link/samples/Keepers/CronUpkeep.abi" >Open in Remix</a>
    <a href="/docs/conceptual-overview/#what-is-remix" >What is Remix?</a>
</div>

### Contract Addresses

| Chain name               | Factory address                            |
|--------------------------|--------------------------------------------|
| Ethereum Mainnet         | 0x9Da0C828dd778917Ca19EbAcfeADc2C0411BF18F |
| Ethereum Kovan           | 0x8ed750705F8c0E5Cb56C1bF50Df6626Dc06553f1 |
| Polygon Mainnet          | 0x72d17B985D2CAD363eA05F84D600d80ea8D0Fa15 |
| Polygon Testnet (Mumbai) | 0x9BfA401b5912D6d6EBd8dB03139d5C7861FBC7f3 |
